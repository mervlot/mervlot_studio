import{r as h,j as Y}from"./index-DIU9xJtM.js";class i{constructor(s,r,c){this.x=s,this.y=r,this.z=c}dot2(s,r){return this.x*s+this.y*r}}class rt{constructor(s=0){this.grad3=[new i(1,1,0),new i(-1,1,0),new i(1,-1,0),new i(-1,-1,0),new i(1,0,1),new i(-1,0,1),new i(1,0,-1),new i(-1,0,-1),new i(0,1,1),new i(0,-1,1),new i(0,1,-1),new i(0,-1,-1)],this.p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this.perm=new Array(512),this.gradP=new Array(512),this.seed(s)}seed(s){s>0&&s<1&&(s*=65536),s=Math.floor(s),s<256&&(s|=s<<8);for(let r=0;r<256;r++){let c=r&1?this.p[r]^s&255:this.p[r]^s>>8&255;this.perm[r]=this.perm[r+256]=c,this.gradP[r]=this.gradP[r+256]=this.grad3[c%12]}}fade(s){return s*s*s*(s*(s*6-15)+10)}lerp(s,r,c){return(1-c)*s+c*r}perlin2(s,r){let c=Math.floor(s),l=Math.floor(r);s-=c,r-=l,c&=255,l&=255;const g=this.gradP[c+this.perm[l]].dot2(s,r),R=this.gradP[c+this.perm[l+1]].dot2(s,r-1),E=this.gradP[c+1+this.perm[l]].dot2(s-1,r),P=this.gradP[c+1+this.perm[l+1]].dot2(s-1,r-1),m=this.fade(s);return this.lerp(this.lerp(g,E,m),this.lerp(R,P,m),this.fade(r))}}const ot=({lineColor:M="black",backgroundColor:s="transparent",waveSpeedX:r=.0125,waveSpeedY:c=.005,waveAmpX:l=32,waveAmpY:g=16,xGap:R=10,yGap:E=32,friction:P=.925,tension:m=.005,maxCursorMove:z=100,style:Q={},className:U=""})=>{const $=h.useRef(null),q=h.useRef(null),W=h.useRef(null),w=h.useRef({width:0,height:0,left:0,top:0}),V=h.useRef(new rt(Math.random())),L=h.useRef([]),A=h.useRef({x:-10,y:0,lx:0,ly:0,sx:0,sy:0,v:0,vs:0,a:0,set:!1}),b=h.useRef({lineColor:M,waveSpeedX:r,waveSpeedY:c,waveAmpX:l,waveAmpY:g,friction:P,tension:m,maxCursorMove:z,xGap:R,yGap:E}),N=h.useRef(null);return h.useEffect(()=>{b.current={lineColor:M,waveSpeedX:r,waveSpeedY:c,waveAmpX:l,waveAmpY:g,friction:P,tension:m,maxCursorMove:z,xGap:R,yGap:E}},[M,r,c,l,g,P,m,z,R,E]),h.useEffect(()=>{const S=q.current,T=$.current;W.current=S.getContext("2d");function B(){w.current=T.getBoundingClientRect(),S.width=w.current.width,S.height=w.current.height}function C(){const{width:o,height:t}=w.current;L.current=[];const e=o+200,a=t+30,{xGap:u,yGap:x}=b.current,d=Math.ceil(e/u),f=Math.ceil(a/x),y=(o-u*d)/2,p=(t-x*f)/2;for(let v=0;v<=d;v++){const j=[];for(let n=0;n<=f;n++)j.push({x:y+u*v,y:p+x*n,wave:{x:0,y:0},cursor:{x:0,y:0,vx:0,vy:0}});L.current.push(j)}}function Z(o){const t=L.current,e=A.current,a=V.current,{waveSpeedX:u,waveSpeedY:x,waveAmpX:d,waveAmpY:f,friction:y,tension:p,maxCursorMove:v}=b.current;t.forEach(j=>{j.forEach(n=>{const K=a.perlin2((n.x+o*u)*.002,(n.y+o*x)*.0015)*12;n.wave.x=Math.cos(K)*d,n.wave.y=Math.sin(K)*f;const tt=n.x-e.sx,et=n.y-e.sy,X=Math.hypot(tt,et),k=Math.max(175,e.vs);if(X<k){const st=1-X/k,O=Math.cos(X*.001)*st;n.cursor.vx+=Math.cos(e.a)*O*k*e.vs*65e-5,n.cursor.vy+=Math.sin(e.a)*O*k*e.vs*65e-5}n.cursor.vx+=(0-n.cursor.x)*p,n.cursor.vy+=(0-n.cursor.y)*p,n.cursor.vx*=y,n.cursor.vy*=y,n.cursor.x+=n.cursor.vx*2,n.cursor.y+=n.cursor.vy*2,n.cursor.x=Math.min(v,Math.max(-v,n.cursor.x)),n.cursor.y=Math.min(v,Math.max(-v,n.cursor.y))})})}function F(o,t=!0){const e=o.x+o.wave.x+(t?o.cursor.x:0),a=o.y+o.wave.y+(t?o.cursor.y:0);return{x:Math.round(e*10)/10,y:Math.round(a*10)/10}}function _(){const{width:o,height:t}=w.current,e=W.current;e.clearRect(0,0,o,t),e.beginPath(),e.strokeStyle=b.current.lineColor,L.current.forEach(a=>{let u=F(a[0],!1);e.moveTo(u.x,u.y),a.forEach((x,d)=>{const f=d===a.length-1;u=F(x,!f);const y=F(a[d+1]||a[a.length-1],!f);e.lineTo(u.x,u.y),f&&e.moveTo(y.x,y.y)})}),e.stroke()}function G(o){const t=A.current;t.sx+=(t.x-t.sx)*.1,t.sy+=(t.y-t.sy)*.1;const e=t.x-t.lx,a=t.y-t.ly,u=Math.hypot(e,a);t.v=u,t.vs+=(u-t.vs)*.1,t.vs=Math.min(100,t.vs),t.lx=t.x,t.ly=t.y,t.a=Math.atan2(a,e),T.style.setProperty("--x",`${t.sx}px`),T.style.setProperty("--y",`${t.sy}px`),Z(o),_(),N.current=requestAnimationFrame(G)}function H(){B(),C()}function I(o){J(o.clientX,o.clientY)}function D(o){const t=o.touches[0];J(t.clientX,t.clientY)}function J(o,t){const e=A.current,a=w.current;e.x=o-a.left,e.y=t-a.top,e.set||(e.sx=e.x,e.sy=e.y,e.lx=e.x,e.ly=e.y,e.set=!0)}return B(),C(),N.current=requestAnimationFrame(G),window.addEventListener("resize",H),window.addEventListener("mousemove",I),window.addEventListener("touchmove",D,{passive:!1}),()=>{window.removeEventListener("resize",H),window.removeEventListener("mousemove",I),window.removeEventListener("touchmove",D),cancelAnimationFrame(N.current)}},[]),Y.jsxs("div",{ref:$,style:{backgroundColor:s,...Q},className:`absolute top-0 left-0 w-full h-full overflow-hidden ${U}`,children:[Y.jsx("div",{className:"absolute top-0 left-0 bg-[#160000] rounded-full w-[0.5rem] h-[0.5rem]",style:{transform:"translate3d(calc(var(--x) - 50%), calc(var(--y) - 50%), 0)",willChange:"transform"}}),Y.jsx("canvas",{ref:q,className:"block w-full h-full"})]})};export{ot as default};
